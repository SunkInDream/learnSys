{"ast":null,"code":"import React from'react';import{Form,Input,Button,Card,message}from'antd';import{UserOutlined,LockOutlined,MailOutlined,PhoneOutlined}from'@ant-design/icons';import{useNavigate}from'react-router-dom';import'./index.less';import request from'../../utils/request';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const onFinish=async values=>{const{username,password,confirmPassword,email,phone}=values;// 验证两次输入的密码是否一致\nif(password!==confirmPassword){message.error('两次输入的密码不一致！');return;}try{const response=await request.post('/api/auth/register',values);if(response.data.success){message.success('注册成功！');navigate('/login');}}catch(error){var _error$response,_error$response$data;message.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'注册失败');}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsx(Card,{className:\"register-card\",title:\"\\u6CE8\\u518C\\u8D26\\u53F7\",children:/*#__PURE__*/_jsxs(Form,{name:\"register\",onFinish:onFinish,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:'请输入用户名！'},{min:4,message:'用户名至少4个字符！'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"\\u7528\\u6237\\u540D\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:'请输入密码！'},{min:6,message:'密码至少6个字符！'}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"\\u5BC6\\u7801\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"confirmPassword\",rules:[{required:true,message:'请确认密码！'},{min:6,message:'密码至少6个字符！'}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"\\u786E\\u8BA4\\u5BC6\\u7801\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"email\",rules:[{required:true,message:'请输入邮箱！'},{type:'email',message:'请输入有效的邮箱地址！'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(MailOutlined,{}),placeholder:\"\\u90AE\\u7BB1\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"phone\",rules:[{required:true,message:'请输入手机号！'},{pattern:/^1[3-9]\\d{9}$/,message:'请输入有效的手机号！'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(PhoneOutlined,{}),placeholder:\"\\u624B\\u673A\\u53F7\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",block:true,children:\"\\u6CE8\\u518C\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"register-links\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5DF2\\u6709\\u8D26\\u53F7\\uFF1F\"}),/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate('/login'),children:\"\\u7ACB\\u5373\\u767B\\u5F55\"})]})]})})});};export default Register;","map":{"version":3,"names":["React","Form","Input","Button","Card","message","UserOutlined","LockOutlined","MailOutlined","PhoneOutlined","useNavigate","request","jsx","_jsx","jsxs","_jsxs","Register","navigate","onFinish","values","username","password","confirmPassword","email","phone","error","response","post","data","success","_error$response","_error$response$data","className","children","title","name","Item","rules","required","min","prefix","placeholder","Password","type","pattern","htmlType","block","onClick"],"sources":["/home/gnahz/Documents/learning_msys/frontpages/src/pages/Register/index.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Form, Input, Button, Card, message } from 'antd';\r\nimport { UserOutlined, LockOutlined, MailOutlined, PhoneOutlined } from '@ant-design/icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './index.less';\r\nimport request from '../../utils/request';\r\n\r\nconst Register = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const onFinish = async (values) => {\r\n    const { username, password, confirmPassword, email, phone } = values;\r\n    \r\n    // 验证两次输入的密码是否一致\r\n    if (password !== confirmPassword) {\r\n      message.error('两次输入的密码不一致！');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await request.post('/api/auth/register', values);\r\n      if (response.data.success) {\r\n        message.success('注册成功！');\r\n        navigate('/login');\r\n      }\r\n    } catch (error) {\r\n      message.error(error.response?.data?.message || '注册失败');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <Card className=\"register-card\" title=\"注册账号\">\r\n        <Form\r\n          name=\"register\"\r\n          onFinish={onFinish}\r\n        >\r\n          <Form.Item\r\n            name=\"username\"\r\n            rules={[\r\n              { required: true, message: '请输入用户名！' },\r\n              { min: 4, message: '用户名至少4个字符！' }\r\n            ]}\r\n          >\r\n            <Input \r\n              prefix={<UserOutlined />} \r\n              placeholder=\"用户名\" \r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"password\"\r\n            rules={[\r\n              { required: true, message: '请输入密码！' },\r\n              { min: 6, message: '密码至少6个字符！' }\r\n            ]}\r\n          >\r\n            <Input.Password\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"密码\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"confirmPassword\"\r\n            rules={[\r\n              { required: true, message: '请确认密码！' },\r\n              { min: 6, message: '密码至少6个字符！' }\r\n            ]}\r\n          >\r\n            <Input.Password\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"确认密码\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"email\"\r\n            rules={[\r\n              { required: true, message: '请输入邮箱！' },\r\n              { type: 'email', message: '请输入有效的邮箱地址！' }\r\n            ]}\r\n          >\r\n            <Input \r\n              prefix={<MailOutlined />} \r\n              placeholder=\"邮箱\" \r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"phone\"\r\n            rules={[\r\n              { required: true, message: '请输入手机号！' },\r\n              { pattern: /^1[3-9]\\d{9}$/, message: '请输入有效的手机号！' }\r\n            ]}\r\n          >\r\n            <Input \r\n              prefix={<PhoneOutlined />} \r\n              placeholder=\"手机号\" \r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\" block>\r\n              注册\r\n            </Button>\r\n          </Form.Item>\r\n          \r\n          <div className=\"register-links\">\r\n            <span>已有账号？</span>\r\n            <a onClick={() => navigate('/login')}>立即登录</a>\r\n          </div>\r\n        </Form>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}